# 스프링 핵심 원리 고급편



```
<스프링 핵심 원리 기본편>

- 객체 지향 설계와 스프링
 ㄴ SOLID
- 스프링 컨테이너와 스프링 빈
 ㄴ 스프링 컨테이너 - IoC, DI
 ㄴ 의존관계 주입
 ㄴ 빈 생성주기와 스코프
```



### 고급편에서 다룰 내용 

- 스프링 핵심 디자인 패턴
  - 템플릿 메서드 패턴
  - 전략 패턴
  - 템플릿 콜백 패턴
  - 프록시 패턴
  - 데코레이터 패턴
- 동시성 문제와 쓰레드 로컬
  - 웹 애플리케이션
  - 멀티쓰레드
  - 동시성 문제
- 스프링 AOP
  - 개념, 용어정리
  - 프록시 - JDK 동적 프록시, CGLIB
  - 동작 원리
  - 실전 예제
  - 실무 주의 사항
- 기타
  - 스프링 컨테이너의 확장 포인트 - 빈 후처리기
  - 스프링 애플리케이션을 개발하는 다양한 실무 팁 





----

### 간단한 예제 프로젝트 만들기

- 간단하게 V0 버전으로 Controller, Service, Repository 생성해서 `@RequriedArgumentConstructor`로 의존성 주입을 하고 컴포넌트 스캔의 대상이 되는 어노테이션(`@Controller`, `@Service`, `@Repository`) 를 이용해서 빈으로 만들었다. 



### 로그 추적기 - 요구사항 분석

**로그 추적기를 만드는 것** 

- 애플리케이션이 커지면서 모니터링과 운영이 중요해짐
- 자주 병목이 발생하는데, 어떤부분에서 병목이 발생하고 예외가 발생하는지를 로그를 통해 확인하는 것이 점점 중요해지고 있다.



**요구사항**

- 모든 PUBLIC 메서드의 호출과 응답 정보를 로그로 출력
- 애플리케이션의 흐름을 변경하면 안됨
  - 로그를 남긴다고 비즈니스로직의 동작에 영향을 주면 안됨
- 메서드 호출에 걸린 시간
- 정상 흐름과 예외 흐름 구분
  - 예외 발생시 예외 정보가 남아야함
- 메서드 호출의 깊이 표현
- HTTP 요청 구분
  - HTTP요청단위로 특정 ID를 남겨서 어떤 HTTP요청에서 시작된 것인지 명확하게 구분이 가능해야함
  - 트랜잭션 ID (하나의 HTTP요청이 시작해서 끝날 때 까지를 하나의 트랜잭션이라고 한다.)



### 로그 추적기 V1 - 프로토타입 개발

- `TraceId`
  - 트랜잭션 ID와 깊이를 표현하는 level을 묶은 개념
-  `TraceStatus`
  - 로그를 시작할 때의 상태 정보 - 로그를 종료할 때 사용함
  - 



