## NoSQL

- 탈 RDBMS*, 표준화된 구조적 질의 언어가 없는* 데이터베이스 (No SQL) 
- *관계를 갖지 않는* 데이터베이스 (Nonrelational Operation Database SQL)
- 여러가지 기능을 제공하는 (Not Only SQL) 의미로 점차 일반화 되었음



### NoSQL DB 종류

- 키-값 DB
  - NoSQL 데이터베이스 중 가장 단순한 구조
  - redis
- 도큐먼트 DB
  - 필드와 값의 형태로 구성된 데이터를 JSON 포맷으로 관리하는 데이터베이스
  - 가장 인기가 높음
- 칼럼 패밀리 DB
  - 칼럼과 로우로 구성된 데이터베이스 
  - 칼럼은 이름과 값, 로우는 각기 다른 칼럼
  - cassandra, Hbase
- 그래프DB
  - 노드와 관계로 구성된 데이터베이스. 근접한 객체를 모델링할 목적
  - neo4j, orientDB

### NoSQL DB 특징

- 유연성 : 스키마 선언 없이 필드의 추가 및 삭제가 자유로운 Schema-less 구조이다
- 확장성 : 스케일 아웃에 의한 서버 확장이 용이하다
- 고성능 : 대용량 데이터를 처리하는 성능이 뛰어나다
- 가용성 : 여러 대의 백업 서버 구성이 가능하여 장애 발생시에도 무중단 서비스가 가능하다



### NoSQL DB vs 관계형 DB

| 항목        | NoSQL DB                                                     | RDB                                                          |
| ----------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 적합 업무   | - 오프라인에서 정형 및 비정형 데이터 분석 업무<br />- 초당 동시 처리가 중요한 업무<br />- 로그 및 이력 등의 단순 기록형 업무 | - 데이터 무결성 및 일관성이 중요한 트랜잭션 업무<br />- 온라인에서 다양한 집계 및 통계를 분석하는 업무<br />- 복잡한 계산 및 실시간 데이터 정합성이 필요한 업무 |
| 데이터 모델 | - 서비스에 맞는 DB선택이 중요<br />- 반정규화에 의한 설계를 기본으로 함 <br />- 비정형화 스키마 구조로 스키마를 미리 선언하지 않음 | - 엔티티 및 각 엔티티 간 관계를 정의<br />- 엔티티 정의시 정규화에 의한 설계가 중요<br />- 테이블, 칼럼 등 DB 요소에 대한 스키마 엄격히 관리 |
| 성능        | - 클러스터 크기, 네트워크 및 애플리케이션에 의해 성능이 결정됨 | - 성능 향상을 위해서는 성능 최적화 작업이 필요함             |
| 인터페이스  | - 쿼리 외 다양한 API를 통한 데이터 저장 및 검색              | - SQL을 통해서만 데이터 저장 및 검색이 가능                  |
| 장점        | - 쿼리 프로세싱이 단순화되어 대용량 데이터 처리 성능이 향상됨 | - 데이터 중복 배제로 데이터 이상 발생 및 용량 증가를 최소화함 |
| 단점        | - 데이터 중복에 의해 데이터 일관성 저하, 용량 증가           | - 조인이 복잡한 경우 쿼리 프로세싱도 복잡해져 성능이 저하됨  |



### NoSQL DB vs 관계형 DB 기술 요소

| 항목      | NoSQL DB                                                     | 관계형 DB                                                    |
| --------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 기술요소  | BASE<br />- Basically Avaiable<br />- Soft State<br />- Eventually Consistent | ACID<br />- Atomicity<br />- Consistency<br />- Isolation<br />- Durability |
| 상세      | **Basically Avaiable (가용성)<**br />- Master 서버 장애 발생시에도 여러 Slave서버로 인해 무중단 서비스가 가능함 | **Atomicity(원자성)**<br />- 트랜잭션은 최소의 업무 단위로 트랜잭션에 포함된 연산은 모두 처리되거나(commit) 또는 모두 미처리되어야함 (rollback) |
|           | **Soft State(소프트 상태)<br />**- 각각의 데이터가 도달한 시점에 데이터가 갱신됨 | **Consistency(일관성)**<br />- 트랜잭션 성공 시 DB는 일관된 상태를 유지해야함 |
|           | **Eventually Consistent(결과적 일관성)**<br />- 복제 메커니즘에 의해 모든 서버에 데이터 복제가 동시에 실행될 수 없음 <br />- 시스템 부하 및 네트워크 속도에 따라 서버에 복제하는 시간이 다를 수 있으나 최종적으로는 모든 서버에 데이터가 복제됨 | **Isolation(격리성)**<br />- 실행중인 트랜잭션의 중간에 다른 트랜잭션이 접근할 수 없음<br />**Durability(영속성)**<br />- 트랜잭션 성공시 그 결과는 장애 발생 여부와 관계 없이 DB에 저장되어야함 |
| 특징      | 데이터 가용성과 데이터 처리 성능이 향상되도록 함             | 데이터의 일관성을 위해 트랜잭션이 안전하게 수행되도록 함     |
| 업무 범위 | 시스템 전체 대상                                             | 트랜잭션                                                     |
| 중점사항  | 서비스 가용성                                                | 데이터 일관성                                                |



- 출처 

  - Toast Meetup https://meetup.toast.com/posts/274

  