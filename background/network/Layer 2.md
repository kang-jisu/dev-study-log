# Layer 2 Network

### ARP (Address Resolution Protocol) 주소 결정 프로토콜

```
IP주소를 MAC주소와 매칭 시키기 위한 프로토콜 
```

- 로컬 네트워크에서 단말과 단말간 통신을 하기 위해 IP주소와 함께 MAC주소를 사용하는데, IP주소를 MAC주소와 매칭하여 목적지 IP의 단말이 소유한 MAC주소를 향해 제대로 찾아가기 위함. 



**LAN(Local Address Network)**

```
근거리 통신망, 로컬 영역 네트워크
집, 사무실 학교 등의 건물과 같은 가까운 지역을 한데 묶는 컴퓨터 네트워크
```

- 사용하는 IP대역을 중심으로 변동가능한 Subnet Mask 내 범위(크기)



**MAC주소**

```
데이터 링크 계층에서 통신을 위한 네트워크 인터페이스에 할당된 고유 식별자로 NIC(Network Interface Card)를 가진 단말이라면 공장에서 출고될 때 부여되고 평생 사용하는 고유한 주소 

LAN에서 목적지와 통신하기 위한 실질적인 주소 
```



## VLAN

**허브(HUB)**

```
이더넷 네트워크인 LAN에서 다수의 컴퓨터를 연결해주는 장비
```

- 자신의 인터페이스에 연결된 컴퓨터의 MAC주소를 저장/관리하지 않아 패킷의 출발지와 목적지에 대한 정보를 갖고 있지 않음
- 따라서 모든 경로에 패킷을 전달
- 반이중방식 (Half-duplex)
  - 한번에 한쪽 방향으로만 통신할 수 있음 ex)무전기

**스위치(SWITCH)**

```
다수의 컴퓨터를 하나의 네트워크로 묶어주는 역할은 허브와 동일하나, 자신의 포트에 연결된 MAC Address를 저장/관리하기 때문에 패킷의 출발지와 목적지의 정보에 대해 파악할 수 있어 한 컴퓨터에서 전송된 데이터를 목적지 포트에만 전달할 수 있다. 
```

- 전 이중 방식 (Full-duplex)지원



**VLAN이 필요한 이유**

```
다른 컴퓨터의 MAC Address를 알기위해 ARP Request를 broadcast로 연결된 컴퓨터 대수만큼 보내면 네트워크 대역폭은 broadcast로 가득차고, 데이터 전달 속도는 느려질 것이다. 

또한 subnet mask가 다른 여러개의 IP대역을 사용한다면 ?
```



### VLAN (Virtual LAN)

```
컴퓨터 네트워크에서 여러개의 구별되는 브로드캐스트 도메인을 만들기 위해 단일 2계층 네트워크를 분할할 수 있는데, 이렇게 분리되면 패킷들은 하나이상의 라우터들 사이에서만 이동할 수 있다.
```

- VLAN을 지원하는 네트워크 장비는 VLAN을 다수 생성할 수 있고 이 VLAN을 통해 브로드캐스트 도메인을 나눌 수 있다. 
- 나누어진 도메인대로 VLAN이 설정된 포트에 연결된 단말의 IP대역만이 통신이 가능하며 다른 VLAN과 통신하기 위해서는 L3 이상의 스위치 혹은 라우터를 통해서만 가능하다. 
- 1~4096 번호를 사용하여 VLAN을 구분짓는다 (VLAN ID)
- 즉 VLAN이란 브로드캐스트가 서로 미치지 않는 여러개의 논리적인 LAN을 만드는 것 



**Trunk(Tagging)**

~~~
스위치와 스위치의 프레임 전달시에 하나의 포트에 다수의 VLAN이 지나갈 수 있도록 가능하게 하는 링크 
~~~

- Trunk Port, Tagged Port
- Trunk가 적용되지 않은 일반 포트는 Access Port라고 부름 

